<!DOCTYPE html>
<html lang="en" class="light">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Publications | AsicBytes</title>
      <script src="https://cdn.tailwindcss.com"></script>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
      <link rel="preload" href="data.json" as="fetch" crossorigin="anonymous">
      <script>
         tailwind.config = {
             darkMode: 'class',
             theme: {
                 extend: {
                     fontFamily: {
                         sans: ['"Google Sans"', 'sans-serif'],
                     },
                     colors: {
                         primary: '#1a73e8', // Google blue
                         secondary: '#34a853', // Google green
                         accent: '#ea4335', // Google red
                         neutral: '#fbbc05', // Google yellow
                     },
                 },
             },
         }
      </script>
      <style>
         body {
            font-family: 'Google Sans', sans-serif;
         }
         
         .brand-name {
            font-family: 'Google Sans', sans-serif;
            font-size: 1.5rem;
            font-weight: 500;
            color: #1a73e8;
            letter-spacing: -0.5px;
         }
         
         .dark .brand-name {
            color: #8ab4f8;
         }
         
         .elevation-1 {
            box-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
         }
         
         .dark .elevation-1 {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
         }
         
         .card {
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.2s ease;
         }
         
         .card:hover {
            box-shadow: 0 1px 3px 0 rgba(60, 64, 67, 0.3), 0 4px 8px 3px rgba(60, 64, 67, 0.15);
         }
         
         .dark .card:hover {
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 4px 8px 3px rgba(0, 0, 0, 0.15);
         }
         
         .publication-card {
            border-left: 4px solid #1a73e8;
            transition: transform 0.2s ease;
         }
         
         .dark .publication-card {
            border-left: 4px solid #8ab4f8;
         }
         
         .publication-card:hover {
            transform: translateY(-2px);
         }
      </style>
   </head>
   <body class="flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans antialiased">
      <!-- Navigation Bar -->
      <nav class="bg-white dark:bg-gray-800 elevation-1 sticky top-0 z-10">
         <div class="max-w-5xl mx-auto flex justify-between items-center px-4 h-16">
            <a href="/" class="brand-name">AsicBytes</a>
            <div class="hidden md:flex space-x-6" id="desktop-menu">
               <a href="education.html" class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-blue-400 font-medium">Education</a>
               <a href="experience.html" class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-blue-400 font-medium">Experience</a>
               <a href="publications.html" class="text-primary dark:text-blue-400 font-medium">Publications</a>
               <a href="tutorials.html" class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-blue-400 font-medium">Tutorials</a>
               <a href="projects.html" class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-blue-400 font-medium">Projects</a>
            </div>
            <div class="flex items-center">
               <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none" aria-label="Toggle dark mode">
                  <span class="material-icons text-gray-600 dark:text-gray-400" id="theme-toggle-dark-icon">dark_mode</span>
                  <span class="material-icons text-gray-600 dark:text-gray-400 hidden" id="theme-toggle-light-icon">light_mode</span>
               </button>
               <button id="mobile-menu-button" class="md:hidden p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none" aria-label="Menu">
                  <span class="material-icons text-gray-600 dark:text-gray-400">menu</span>
               </button>
            </div>
         </div>
         <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
            <a href="education.html" class="block py-3 px-6 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">Education</a>
            <a href="experience.html" class="block py-3 px-6 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">Experience</a>
            <a href="publications.html" class="block py-3 px-6 text-primary dark:text-blue-400 bg-gray-100 dark:bg-gray-700">Publications</a>
            <a href="tutorials.html" class="block py-3 px-6 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">Tutorials</a>
            <a href="projects.html" class="block py-3 px-6 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">Projects</a>
         </div>
      </nav>
      
      <!-- Main Content -->
      <main class="flex-1 bg-gray-50 dark:bg-gray-900">
         <div class="max-w-5xl mx-auto my-8 px-6">
            <div id="publications" class="opacity-0 transition-opacity duration-500 ease-in-out">
               <h1 class="text-2xl font-medium text-gray-900 dark:text-white mb-2">Publications</h1>
               <p class="text-gray-600 dark:text-gray-400 mb-6">Key research works published in reputed journals and conferences</p>
               
               <!-- Search and Filter Controls -->
               <div class="mb-8">
                  <div class="flex flex-col md:flex-row gap-4">
                     <div class="flex-grow">
                        <div class="relative">
                           <input type="text" id="publication-search" placeholder="Search publications..." class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg py-2 pl-10 pr-4 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary">
                           <span class="material-icons absolute left-3 top-2 text-gray-500 dark:text-gray-400">search</span>
                        </div>
                     </div>
                     <div class="flex-shrink-0">
                        <select id="year-filter" class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg py-2 px-4 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary">
                           <option value="all">All Years</option>
                           <!-- Year options will be populated dynamically -->
                        </select>
                     </div>
                  </div>
               </div>
               
               <div class="space-y-4" id="publicationsList">
                  <!-- Publication items will be inserted here -->
               </div>
               
               <!-- No results message -->
               <div id="no-results" class="hidden text-center py-8">
                  <p class="text-gray-600 dark:text-gray-400">No publications match your search criteria.</p>
               </div>
            </div>
         </div>
      </main>
      
      <!-- Footer -->
      <footer class="bg-white dark:bg-gray-800 py-6 border-t border-gray-200 dark:border-gray-700">
         <div class="max-w-5xl mx-auto px-4 text-center">
            <small class="text-gray-500 dark:text-gray-400">
            &copy; <span id="currentYear"></span> Tapas Rout. All rights reserved.
            </small>
         </div>
      </footer>
      
      <script>
         let resumeData = null;
         let allPublications = [];
         
         function toggleMode() {
             const html = document.documentElement;
             html.classList.toggle('dark');
             localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
             updateThemeToggleIcons();
         }
         
         function updateThemeToggleIcons() {
             const isDark = document.documentElement.classList.contains('dark');
             document.getElementById('theme-toggle-dark-icon').classList.toggle('hidden', isDark);
             document.getElementById('theme-toggle-light-icon').classList.toggle('hidden', !isDark);
         }
         
         function initTheme() {
             const savedTheme = localStorage.getItem('theme');
             if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                 document.documentElement.classList.add('dark');
             }
             updateThemeToggleIcons();
         }
         
         function initMobileMenu() {
             const mobileMenuButton = document.getElementById('mobile-menu-button');
             const mobileMenu = document.getElementById('mobile-menu');
             mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
         }
         
         function createPublicationElement(pub) {
             const div = document.createElement('div');
             const authorList = pub.authors.map(name => (name === resumeData.name ? `<span class="font-medium text-primary dark:text-blue-400">${resumeData.name}</span>` : name)).join(", ");
             div.innerHTML = `
                 <div class="flex flex-col">
                     <h3 class="text-lg font-medium text-gray-900 dark:text-white break-words">${pub.title}</h3>
                     ${pub.award ? `<p class="text-accent dark:text-red-400 mt-1 font-medium text-sm">${pub.award}</p>` : ''}
                     <p class="text-gray-700 dark:text-gray-300 mt-1 break-words text-sm">${authorList}</p>
                     <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mt-2 gap-2">
                         <em class="text-gray-600 dark:text-gray-400 text-sm">${pub.venue}, ${pub.year}</em>
                         <div class="flex space-x-4">
                             ${pub.links?.paper ? `<a href="${pub.links.paper}" class="text-primary dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300" target="_blank" aria-label="PDF"><i class="fa-solid fa-file-pdf" aria-hidden="true"></i></a>` : ''}
                             ${pub.links?.github ? `<a href="${pub.links.github}" class="text-primary dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300" target="_blank" aria-label="GitHub"><i class="fab fa-github" aria-hidden="true"></i></a>` : ''}
                             ${pub.links?.presentation ? `<a href="${pub.links.presentation}" class="text-primary dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300" target="_blank" aria-label="Presentation"><i class="fa-solid fa-file-powerpoint" aria-hidden="true"></i></a>` : ''}
                         </div>
                     </div>
                 </div>
             `;
             div.className = "p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm publication-card card";
             div.setAttribute('data-year', pub.year);
             div.setAttribute('data-title', pub.title.toLowerCase());
             div.setAttribute('data-authors', pub.authors.join(' ').toLowerCase());
             return div;
         }
         
         function populateYearFilter() {
            const yearFilter = document.getElementById('year-filter');
            const years = new Set();
            
            // Extract unique years from publications
            resumeData.publications.forEach(pub => {
               years.add(pub.year);
            });
            
            // Sort years in descending order
            const sortedYears = Array.from(years).sort((a, b) => b - a);
            
            // Add year options to the filter
            sortedYears.forEach(year => {
               const option = document.createElement('option');
               option.value = year;
               option.textContent = year;
               yearFilter.appendChild(option);
            });
         }
         
         function filterPublications() {
            const searchTerm = document.getElementById('publication-search').value.toLowerCase();
            const yearFilter = document.getElementById('year-filter').value;
            const publicationElements = document.querySelectorAll('#publicationsList > div');
            let visibleCount = 0;
            
            publicationElements.forEach(element => {
               const year = element.getAttribute('data-year');
               const title = element.getAttribute('data-title');
               const authors = element.getAttribute('data-authors');
               
               // Check if publication matches both search term and year filter
               const matchesSearch = searchTerm === '' || 
                                    title.includes(searchTerm) || 
                                    authors.includes(searchTerm);
               const matchesYear = yearFilter === 'all' || year === yearFilter;
               
               if (matchesSearch && matchesYear) {
                  element.classList.remove('hidden');
                  visibleCount++;
               } else {
                  element.classList.add('hidden');
               }
            });
            
            // Show/hide no results message
            document.getElementById('no-results').classList.toggle('hidden', visibleCount > 0);
         }
         
         function populatePublications() {
             const publicationsList = document.getElementById('publicationsList');
             const fragment = document.createDocumentFragment();
             
             if (resumeData.publications && Array.isArray(resumeData.publications)) {
                 // Store all publications for filtering
                 allPublications = resumeData.publications;
                 
                 // Sort publications by year (newest first)
                 allPublications.sort((a, b) => b.year - a.year);
                 
                 allPublications.forEach(pub => {
                     fragment.appendChild(createPublicationElement(pub));
                 });
             }
             
             publicationsList.appendChild(fragment);
             
             // Populate year filter after publications are loaded
             populateYearFilter();
             
             // Add event listeners for filtering
             document.getElementById('publication-search').addEventListener('input', filterPublications);
             document.getElementById('year-filter').addEventListener('change', filterPublications);
             
             // Fade in the publications section
             setTimeout(() => {
                 document.getElementById('publications').classList.remove('opacity-0');
             }, 100);
         }
         
         function initPage() {
             initTheme();
             initMobileMenu();
             populatePublications();
             document.getElementById('currentYear').textContent = new Date().getFullYear();
         }
         
         document.addEventListener('DOMContentLoaded', function() {
             fetch('data.json')
                 .then(response => response.json())
                 .then(data => {
                     resumeData = data;
                     initPage();
                 })
                 .catch(error => {
                     console.error('Error loading JSON:', error);
                     document.getElementById('publications').innerHTML = '<p class="text-center text-red-500">Failed to load publication data. Please try again later.</p>';
                     document.getElementById('publications').classList.remove('opacity-0');
                 });
         
             document.getElementById('theme-toggle').addEventListener('click', toggleMode);
         });
      </script>
   </body>
</html>
